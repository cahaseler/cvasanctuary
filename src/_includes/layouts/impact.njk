---
layout: layouts/base.njk
---

<style>
  .impact-page {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    background: transparent !important;
  }

  .impact-title {
    text-align: center;
    font-size: 2.5rem;
    color: var(--color-primary);
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  .impact-section {
    margin-bottom: 1rem;
    background: transparent !important;
  }

  .impact-section h2 {
    color: var(--color-primary);
    font-size: 1.8rem;
    margin-top: 0;
    margin-bottom: 1.5rem;
  }

  .impact-section h3 {
    color: var(--color-primary);
    font-size: 1.4rem;
    margin: 2rem 0 1rem;
  }

  .impact-section p {
    line-height: 1.8;
    margin-bottom: 1.5rem;
    font-size: 1.1rem;
  }

  /* Adoptions section two-column layout */
  .adoptions-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    align-items: start;
  }
  
  @media (min-width: 768px) {
    .adoptions-grid {
      grid-template-columns: 1fr 1fr;
    }
  }
  
  .adoptions-left img {
    width: 100%;
    height: auto;
    margin-bottom: 1.5rem;
  }
  
  .adoptions-right img {
    width: 100%;
    height: auto;
    margin-bottom: 1.5rem;
    border-radius: 8px;
  }

  /* History images */
  .history-images {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin: 2rem 0;
  }
  
  @media (min-width: 768px) {
    .history-images {
      grid-template-columns: 1fr 1fr;
    }
    
    .history-images figure:first-child {
      grid-column: 1 / -1;
    }
  }

  .history-images figure {
    margin: 0;
    text-align: center;
  }

  .history-images img {
    width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
    border-radius: 4px;
  }

  .history-images figcaption {
    margin-top: 0.5rem;
    font-size: 0.9rem;
    color: #666;
    font-style: italic;
  }

  /* Chart sections */
  .charts-container {
    margin: 2rem 0;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }

  .chart-full {
    width: 100%;
    margin-bottom: 2rem;
  }

  .chart-full img {
    width: 100%;
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
  }

  .charts-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin: 2rem 0;
  }

  .chart-half img {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Fire Kittens section with warning */
  .warning-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    border-radius: 8px;
    padding: 1rem;
    margin: 2rem auto;
    max-width: 600px;
    text-align: center;
    font-style: italic;
  }

  /* Fire Kittens carousel - Modern CSS approach */
  .kitten-carousel {
    margin: 2rem auto;
    max-width: 800px;
  }
  
  .kitten-carousel .carousel-viewport {
    overflow: hidden;
    border-radius: 8px;
    background: #f5f5f5;
  }

  .kitten-carousel .carousel-container {
    display: flex;
    transition: transform 0.5s ease;
  }

  .kitten-carousel .carousel-slide {
    flex: 0 0 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f5f5f5;
  }

  .kitten-carousel img {
    max-width: 100%;
    max-height: 500px;
    height: auto;
    width: auto;
    display: block;
  }
  
  .kitten-carousel .carousel-nav {
    margin-top: 1rem;
  }
  
  .kitten-carousel .carousel-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
  }
  
  .kitten-carousel .carousel-dots {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
  }
  
  .kitten-carousel .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #ccc;
    cursor: pointer;
    transition: background 0.3s;
    border: none;
    padding: 0;
  }

  .kitten-carousel .dot.active {
    background: var(--color-primary);
  }
  
  .kitten-carousel .carousel-btn {
    background: var(--color-primary);
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
  }

  .kitten-carousel .carousel-btn:hover {
    background: var(--color-primary-dark);
  }

  /* Volunteers section layout */
  .volunteers-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
  }
  
  @media (min-width: 768px) {
    .volunteers-content {
      grid-template-columns: 2fr 1fr;
      align-items: start;
    }
  }
  
  .volunteers-image img {
    width: 100%;
    height: auto;
    border-radius: 8px;
  }
  
  .volunteer-charts {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-top: 2rem;
  }
  
  @media (min-width: 768px) {
    .volunteer-charts {
      grid-template-columns: 1fr 1fr;
    }
  }
  
  .volunteer-charts img {
    width: 100%;
    height: auto;
  }

  /* Programs section charts */
  .program-charts {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-top: 2rem;
  }
  
  @media (min-width: 768px) {
    .program-charts {
      grid-template-columns: 1fr 1fr;
    }
  }
  
  .program-charts img {
    width: 100%;
    height: auto;
  }

  /* Moving Forward section with two columns */
  .moving-forward-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    align-items: start;
  }
  
  @media (min-width: 768px) {
    .moving-forward-content {
      grid-template-columns: 1fr 1fr;
    }
  }
  
  .moving-forward-section img,
  .moving-forward-image img {
    width: 100%;
    height: auto;
    border-radius: 8px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .impact-title {
      font-size: 2rem;
    }

    .charts-row,
    .kitten-images,
    .stats-grid {
      grid-template-columns: 1fr;
    }

    .cta-grid {
      grid-template-columns: 1fr 1fr;
    }
  }
</style>

<div class="impact-page">
  <h1 class="impact-title">{{ title }}</h1>

  <section class="impact-section">
    <h2>History of CVAS</h2>
    <ul>
      <li><p>Established in 2002 by several caring individuals.</p></li>
      <li><p>Helping dogs was our original purpose</p></li>
      <li><p>Originally known as Colville Pet Refuge</p></li>
      <li><p>We started taking in unwanted cats in 2010. There is no other place for unwanted cats to go in Stevens County. CVAS became known for taking care of cats, but we care for dogs, too.</p></li>
      <li><p>In Sept of 2016, CVAS started making changes around the property with animal housing, initiating occupancy maximum numbers. Years prior, no animal was turned away and over crowding and animal mental wellness was fragile.</p></li>
      <li><p>In 2018 a new Board of Directors and Acting ED (all volunteers) started a reboot of CVAS.</p></li>
    </ul>
    {% if history_images %}
    <div class="history-images">
      {% for image in history_images %}
      <figure>
        <img src="{{ image.src | url }}" alt="{{ image.alt }}">
        <figcaption>{{ image.caption }}</figcaption>
      </figure>
      {% endfor %}
    </div>
    {% endif %}
  </section>

  <section class="impact-section adoptions-section">
    <div class="adoptions-grid">
      <div class="adoptions-left">
        <h2>Adoptions</h2>
        <p>Adoption services are at the core of what CVAS does. Our #1 priority is to get animals into loving homes. The graphs below show the types of animals adopted with us and the types of animals transferred to partnering shelters. The data shows that a lot has changed in a few short years. For every fur baby brought into the shelter, we hope to find a corresponding furrever home!</p>
        <p>When an animal is surrendered to CVAS, whether in a simple re-homing case or in the saddest medical case, our responsibility is to care for the animal and get that animal out of the shelter. While life at CVAS is blissful, it's not a permanent place for a pet. Cats and dogs need reliable socialization, their favorite food and treats, and a spacious home to explore.</p>
        <h3>Animal Breakdown:</h3>
        {% if adoption_charts.left %}
          {% for chart in adoption_charts.left %}
            <p><img src="{{ chart.src | url }}" alt="{{ chart.alt }}"></p>
          {% endfor %}
        {% endif %}
      </div>
      <div class="adoptions-right">
        {% if adoption_charts.right %}
          {% for chart in adoption_charts.right %}
            <p><img src="{{ chart.src | url }}" alt="{{ chart.alt }}"></p>
          {% endfor %}
        {% endif %}
      </div>
    </div>
  </section>

  <section class="impact-section">
    <h2>Fire Kittens from Inchelium, WA Wildfires of Summer 2020</h2>
    <p>Firefly, Moonbug, and and Lightning Bug came to CVAS after being severely burned and injured by the Inchelium wildfires. They were rescued during the panic and brought to CVAS for care. Fortunately, we had amazing donors fund their care, which consisted of three times daily baths and ointment as well as plenty of pain medications. These wonderful animals were given a second chance at life and now wonder around their new furrever homes!</p>
    
    <div class="warning-box">
      <strong>These slides may be disturbing to view, so please do so with discretion.</strong>
    </div>
    
    {% if fire_kitten_slides %}
    <div class="kitten-carousel">
      <div class="carousel-viewport">
        <div class="carousel-container">
          {% for slide in fire_kitten_slides %}
          <div class="carousel-slide">
            <img src="{{ slide.src | url }}" alt="{{ slide.alt }}">
          </div>
          {% endfor %}
        </div>
      </div>
      <div class="carousel-nav">
        <div class="carousel-controls">
          <button class="carousel-btn carousel-prev">Previous</button>
          <button class="carousel-btn carousel-next">Next</button>
        </div>
        <div class="carousel-dots">
          {% for slide in fire_kitten_slides %}
          <button class="dot {% if loop.first %}active{% endif %}" aria-label="Slide {{ loop.index }}"></button>
          {% endfor %}
        </div>
      </div>
    </div>
    {% endif %}
  </section>

  <section class="impact-section volunteers-section">
    <h2>Volunteers</h2>
    <div class="volunteers-content">
      <div class="volunteers-text">
        <ul>
          <li><p>We are forever grateful for the amazing service that our volunteers bring to the sanctuary every day.</p></li>
          <li><p>Volunteers help with laundry/dishes, socializing, office help, lawn care, remodeling, vaccination clinics, transporting animals for surgeries or adoption events, fundraising, Furry Tale program and helping our limited staff</p></li>
          <li><p>Every hour volunteers work saves money for the animals and programs of CVAS.</p></li>
          <li><p>The COVID pandemic has hurt us on how many people are allowed to be at CVAS during 2020, but our volunteers look forward to getting into the sanctuary when it is their scheduled time.</p></li>
        </ul>
      </div>
      <div class="volunteers-image">
        {% if volunteer_images.kitten %}
          <p><img src="{{ volunteer_images.kitten.src | url }}" alt="{{ volunteer_images.kitten.alt }}"></p>
        {% endif %}
      </div>
    </div>
    
    {% if volunteer_images.charts %}
    <div class="volunteer-charts">
      {% for chart in volunteer_images.charts %}
        <img src="{{ chart.src | url }}" alt="{{ chart.alt }}">
      {% endfor %}
    </div>
    {% endif %}
  </section>

  <section class="impact-section programs-section">
    <h2>Programs</h2>
    <p>Our programs help assist families all over Stevens County. We've instated new educational programs that we can't wait to see flourish. Our vaccination and microchip clinic is a huge hit every month, bringing in more people and funds to CVAS than any other program. When someone donates pet supplies, those are donated straight to our pet food bank if CVAS is not able to use them. Then we have several adoption programs for people looking for specific pets. Each of these programs yield numbers that we like to improve upon every year. Here's a look at what we do:</p>
    <p>• Holds Low-Cost Vaccination Clinics. (With retired veterinarian)</p>
    <p>• Allows a mobile veterinarian free parking for public low-cost spay/neuters clinic. (Good weather months)</p>
    <p>• Has a Pet-Food Bank, no income requirements.</p>
    <p>• Seniors Saving Seniors Program is where we pair seniors with seniors pets at no cost to the adopter.</p>
    <p>• TNR Program where we loan traps, help get feral cats fixed and then returned to their environment.</p>
    <p>• Barn/Shop Program where we take unwanted feral cats and give them a purpose with little human interaction.</p>
    <p>• Furry-Tale Reading program (before COVID). Kids read to the animals, have a snack, a craft project, and then write in their journals. This is a FREE program that helps children with their reading, writing skills, and animal skills.</p>
    <p>• A location for individuals to fulfill their community service hours.</p>
    <p>We hope to expand our programs in 2021. Although times are uncertain, what remains consistent is the need for animal welfare in Stevens County. If you're interested in participating in any of our programs, information can be found on our Programs page.</p>
    <h3>Vaccine & Microchip Clinic</h3>
    <h4>Households/Animals helped 2017-2020</h4>
    {% if program_charts %}
    <div class="program-charts">
      {% for chart in program_charts %}
        <img src="{{ chart.src | url }}" alt="{{ chart.alt }}">
      {% endfor %}
    </div>
    {% endif %}
  </section>

  <section class="impact-section moving-forward-section">
    <h2>Moving Forward - How Can You help us help them?</h2>
    <div class="moving-forward-content">
      <div class="moving-forward-text">
        <p>• <strong>Adopt:</strong> all pets come altered, up to date on shots, de-wormed, microchipped.</p>
        <p>• <strong>Foster:</strong> take in an animal with needs or a litter of kittens to be trained and socialized.</p>
        <p>• <strong>Volunteer:</strong> give some of your time to clean, do yard work, remodel, socialize, office help. Many volunteers do a 2hr shift.</p>
        <p>• <strong>Donate:</strong> help financially with a one-time, recurring, round-up, bequest, AmazonSmile or purchase needed items. Visit our donation page or see our wish lists on Chewy and Amazon.</p>
        <p>• <strong>Sponsor:</strong> a project financially only or funding and completing the project also. Want some ideas? CVAS needs a new heating stove in main building, decking w/wheelchair ramp, gravel, concrete, yard beautification. .. the list goes on.</p>
        <p>• <strong>Share CVAS</strong>: join us on Facebook, our email newsletters, then share with your family and friends.</p>
      </div>
      <div class="moving-forward-image">
        {% if moving_forward_image %}
          <p><img src="{{ moving_forward_image.src | url }}" alt="{{ moving_forward_image.alt }}"></p>
        {% endif %}
      </div>
    </div>
  </section>

</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Initialize kitten carousel specifically
  const kittenCarousel = document.querySelector('.kitten-carousel');
  if (kittenCarousel) {
    const container = kittenCarousel.querySelector('.carousel-container');
    const slides = kittenCarousel.querySelectorAll('.carousel-slide');
    const dots = kittenCarousel.querySelectorAll('.dot');
    const prevBtn = kittenCarousel.querySelector('.carousel-prev');
    const nextBtn = kittenCarousel.querySelector('.carousel-next');
    let currentSlide = 0;

    function showSlide(index) {
      if (container && slides.length > 0) {
        currentSlide = (index + slides.length) % slides.length;
        container.style.transform = 'translateX(-' + (currentSlide * 100) + '%)';
        
        // Update dots
        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === currentSlide);
        });
      }
    }

    // Dot click handlers
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => showSlide(index));
    });

    // Button handlers
    if (prevBtn) {
      prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
    }
    
    if (nextBtn) {
      nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));
    }

    // Auto-advance
    setInterval(() => {
      showSlide(currentSlide + 1);
    }, 5000);
  }
});
</script>